启动服务 mysql.server start
nacos     sh startup.sh -m standalone
sentinel admin
es   ./bin/elasticsearch  需要修改config/elasticsearch.yaml 下的cluster-name: myes
kibana  ./bin/kibana

1.修改nacos配置，@RefreshScope无效，没有刷新配置
解决：RefreshScope注解放在接口controller类上

2.sprinboot选用2.2.8版本，部分mapper接口 400没有加载到spring上。
解决：可能是兼容问题 降版本到2.0.0

3.部分处理接口映射成功了但请求失败400，404
解决：nacos config 的 bootstrap.properties的 spring.application.name配置修改为dataId ,应用名一致

4.整合sentinel报错
Description:
Parameter 0 of method modifyRequestBodyGatewayFilterFactory in org.springframework.cloud.gateway.config.GatewayAutoConfiguration required a bean of type 'org.springframework.http.codec.ServerCodecConfigurer' that could not be found.
Action:
Consider defining a bean of type 'org.springframework.http.codec.ServerCodecConfigurer' in your configuration.

解决：spring-boot-starter-web和spring-cloud-starter-gateway中的web版本冲突
     删除代码中的spring-boot-starter-web依赖

5.引入sentinel admin无效
需要接口有一定访问量，向控制台发送心跳包

6.gateway filter配置了，但只对routes的地址过滤，不是全部过滤吗？

7.es配置启动报错
 nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException
 availableProcessors is already set to [8], rejecting [8
解决方法：main启动类增加：System.setProperty("es.set.netty.runtime.available.processors", "false");

8.es接口报错 Rejecting mapping update to [xzy] as the final mapping would have more than 1 type: [book, user]
es6.0的版本不允许一个index下面有多个type，并且官方说是在接下来的7.0版本中会删掉type

9.java.lang.IllegalStateException: Could not resolve view with name 'addBook'.
处理返回错误，@Controller 改成 @RestController，支持返回json,string

10.多数据源配置报错
Failed to auto-configure a DataSource: 'spring.datasource.url' is not specified and no embedded datasource could be auto-configured.
Reason: Failed to determine a suitable driver class
解决：
@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})
@Import({DynamicDataSourceConfig.class})

或者资源文件被过滤了 spring.profiles.active=datasource-dev,dev

11.creating bean with name 'statViewServletRegistrationBean' defined in c。。。。。。
由于druid需要servlet容器，而spring cloud gateway不能使用servlet，为此在配置文件中将stat-view-servlet 和 web-stat-filter 关闭

12.Error creating bean with name 'com.xzy.config.nacos.NacosService': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'nacos.default.serverAddr' in value "${nacos.default.serverAddr}"

13.   main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, xframe-demo-provider register ....     no server available

14. Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationPropertiesBean
 13和14是nacos版本和spring-cloud-alibaba-dependencies版本不匹配.具体看https://github.com/alibaba/spring-cloud-alibaba/wiki/版本说明

15.BindingException: Invalid bound statement (not found):
build resources 没有包含**/*.xml